<!DOCTYPE html>
<html lang="en">
<head>
    <title>Shower Presentation Engine</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="shower/themes/material/styles/styles.css">
    <style>
        .shower {
            --slide-ratio: calc(4 / 3);
        }

        .slide::after {
            right: 38px;
            left: auto;
        }

        .slide .gulp {
            color: white;
            background-color: #cf4647;
            font-weight: bold;
        }

        .slide code b {
            color: darkmagenta;
        }

        .shower.full .next.border {
            visibility: visible;
        }

        .shower.full .next.border.active {
            outline: 0.3rem solid #cf4647;
            outline-offset: 0.2rem;
        }
    </style>
</head>
<body class="shower list">















    <header class="caption">
        <h1>CSS. Практика</h1>
        <p>Бондаренко Юрий</p>
    </header>


    <section class="slide">
        <h2>CSS. Практика</h2>
        <p>Как пересесть с препроцессоров обратно на CSS.</p>
        <p><a href="https://bnd.by/">Бондаренко Юрий</a> (BWeb.Studio)</p>
    </section>


    <section class="slide">
        <h2>Постановка задачи</h2>
        <p>Почему мы используем препроцессоры:</p>
        <ul>
            <li>CSS местами <b>неудобен</b></li>
            <li><b>Ограничен</b>ные возможности</li>
            <li><b>Не язык</b> программирования</li>
        </ul>

        <h2>Цель</h2>
        <p>Вернуться на CSS, захватив с собой "преимущества" препроцессоров</p>
    </section>















    <section class="slide">
        <h2 class="shout shrink">Квант<br />раздражения</h2>
    </section>


    <section class="slide">
        <h2>Вычисляемые выражения</h2>
        <div class="columns two">
            <div>
                <h3>LESS</h3>
                <pre style="font-size: 90%;">
                    <code>a {</code>
                    <code>  font: <mark class="important">12pt/10pt sans-serif</mark> ;</code>
                    <code>}</code>
                    <code>.item-c {</code>
                    <code>  grid-column: <mark class="important">3 / span 2</mark> ;</code>
                    <code>  grid-row: <mark class="important">span 3 / 6</mark> ;</code>
                    <code>}</code>
                </pre>
            </div>
            <div class="next">
                <h3>CSS</h3>
                <pre style="font-size: 90%;">
                    <code>a {</code>
                    <code>  font: <b>12pt/10pt sans-serif</b>;</code>
                    <code>}</code>
                    <code>.item-c {</code>
                    <code>  grid-column: <b>3 span 2</b>;</code>
                    <code>  grid-row: <b>span 0.5</b>;</code>
                    <code>}</code>
                </pre>
            </div>
        </div>
    </section>


    <section class="slide">
        <h2>Экранирование функций</h2>
        <div class="columns two">
            <div>
                <h3>LESS</h3>
                <pre style="font-size: 90%;">
                    <code>div {</code>
                    <code>  width: calc(50% - 100px);</code>
                    <code>  height: ~"calc(50% - 100px)"</code>
                    <code>}</code>
                </pre>
            </div>
            <div class="next">
                <h3>CSS</h3>
                <pre style="font-size: 90%;">
                    <code>div {</code>
                    <code>  width: calc(-50%);</code>
                    <code>  height: calc(50% - 100px);</code>
                    <code>}</code>
                </pre>
            </div>
        </div>
    </section>


    <section class="slide">
        <h2>gulp-less</h2>
        <p>Пакет gulp-less не работает с Gulp 4, только 3.9.1</p>
        <p>Невозможность обновиться на более новые версии</p>
        <p>Раздражающие сообщения об уязвимостях и аудите</p>
    </section>

















    <section class="slide">
        <h2 class="shout shrink">Основные<br />понятия</h2>
    </section>


    <section class="slide">
        <h2>Препроцессоры</h2>

        <div class="columns three">
            <div>
                <img src="img/sass.svg" width="200" />
            </div>
            <div>
                <img src="img/less.svg" width="200" />
            </div>
            <div>
                <img src="img/stylus.svg" width="200" />
            </div>
        </div>

        <div class="columns three">
            <div>
                <h3>SASS</h3>
            </div>
            <div>
                <h3>LESS</h3>
            </div>
            <div>
                <h3>Styles</h3>
            </div>
        </div>

        <ul>
            <li>Расширяют язык стилей</li>
            <li>Дополняют синтаксис элементами языков программирования: условия, циклы, переменные</li>
        </ul>
    </section>


    <section class="slide">
        <h2>Постпроцессор</h2>
        <p><img src="img/postcss.svg"></p>
        <p>PostCss:</p>
        <ul>
            <li>Вендорные префиксы</li>
            <li>Grid</li>
            <li>генерация дополнительного кода</li>
        </ul>
    </section>


    <section class="slide">
        <h2>Инструментарий</h2>
        <ul>
            <li><b>gulp 4</b> - Таск менеджер</li>
            <li><b>gulp-postcss</b> - Постпроцессор</li>
            <li><b>postcss-preset-env</b> - набор плагинов</li>
            <li><b>postcss-import</b> - пример "нестандартного" плагина</li>
            <li><b>postcss-rtl</b> - пример плагина-генератора кода</li>
        </ul>
    </section>


















    <section class="slide">
        <h2 class="shout shrink">Подготовка</h2>
    </section>


    <section class="slide">
        <h2>Подключаем инструментарий</h2>

        <p><code class="gulp">gulpfile.js</code></p>

        <pre>
            <code>const { <b>task</b>, <b>src</b>, <b>dest</b> } = require( 'gulp' )</code>
            <code>const <b>postcss</b> = require( 'gulp-postcss' )</code>
            <code>const <b>postcssPresetEnv</b> = require( 'postcss-preset-env' )</code>
            <code>const <b>atImport</b> = require( 'postcss-import' )</code>
        </pre>
    </section>


    <section class="slide">
        <h2>Конфиг PostCSS</h2>

        <p><code class="gulp">gulpfile.js</code></p>

        <pre>
            <code>const <span class="next border">postcssOptions</span> = [</code>
            <code>  <span class="next border">atImport()</span>,</code>
            <code>  <span class="next border">postcssPresetEnv</span>({</code>
            <code>    stage: 0,</code>
            <code>    autoprefixer: {</code>
            <code>      grid: true,</code>
            <code>      browsers: [ 'last 2 versions', 'ie &gt;= 11' ]</code>
            <code>    }</code>
            <code>  })</code>
            <code>]</code>
        </pre>
    </section>





















    <section class="slide">
        <h2 class="shout shrink">1.<br />Хочу верстать<br /> и не страдать</h2>
    </section>


    <section class="slide">
        <h2>1. Grid Layout <span style="color: red">❤︎</span> IE10+</h2>
        
        <div class="columns two">
            <div>
                <p>Исходный CSS</p>

                <pre style="font-size: 70%">
                    <code>.layout {</code>
                    <code>  <b>display</b>: grid;</code>
                    <code>  <b>grid-template-areas</b>:</code>
                    <code>    "item1 item1 item2"</code>
                    <code>    "item3 item4 item4";</code>
                    <code>  <b>grid-template-columns</b>: 1fr 1fr 1fr;</code>
                    <code>  <b>grid-template-rows</b>: auto auto;</code>
                    <code>  <b>grid-gap</b>: 20px;</code>
                    <code>}</code>
                </pre>
            </div>
            <div>
                <p>Обработанный CSS</p>

                <pre style="font-size: 70%">
                    <code>.layout {</code>
                    <code>  <u>display</u>: -ms-grid;</code>
                    <code>  <b>display</b>: grid;</code>
                    <code>  <b>grid-template-areas</b>:</code>
                    <code>    "item1 item1 item2"</code>
                    <code>    "item3 item4 item4";</code>
                    <code>  <u>-ms-grid-columns</u>: 1fr 20px 1fr 20px 1fr;</code>
                    <code>  <b>grid-template-columns</b>: 1fr 1fr 1fr;</code>
                    <code>  <u>-ms-grid-rows</u>: auto 20px auto;</code>
                    <code>  <b>grid-template-rows</b>: auto auto;</code>
                    <code>  <b>grid-gap</b>: 20px;</code>
                    <code>}</code>
                </pre>
            </div>
        </div>
    </section>


    <section class="slide">
        <h2>1. Grid Layout <span style="color: red">❤︎</span> IE10+</h2>
        
        <p>Что пока нельзя использовать:</p>
        <ul>
            <li><code>grid-auto-columns</code></li>
            <li><code>grid-auto-rows</code></li>
            <li><code>grid-auto-flow</code></li>
        </ul>

        <p>Ограничения:</p>
        <ul>
            <li>Каждый элемент сетки должен иметь уникальное имя</li>
            <li>Для использования <code>grid-gap</code> свойства <code>grid-template-areas</code> и <code>grid-template-columns</code> должны быть определены.</li>
        </ul>

    </section>



















    <section class="slide">
        <h2 class="shout shrink">2.<br />Мама, я в Дубае</h2>
    </section>


    <section class="slide">
        <h2>2. RTL</h2>

        <p>Для гридов и флексов RTL <b>не нужен</b>!</p>

        <p>Подключаем плагин:</p>

        <pre>
            <code>const rtl = <b>require</b>( 'postcss-rtl' )</code>
            <code><b>src</b>( 'style.css' )</code>
            <code>  .<b>pipe</b>( <b>postcss</b>( [ <b>rtl</b>( options ) ]) )</code>
            <code>  .<b>pipe</b>( <b>dest</b>( './dest' ) )</code>
        </pre>

    </section>


    <section class="slide">
        <h2>2. RTL</h2>

        <div class="columns two">
            <div>
                <p>Исходный CSS</p>

                <pre style="font-size: 70%">
                    <code>.foo {</code>
                    <code>  <b>float</b>: right;</code>
                    <code>  <b>margin-left</b>: 13px;</code>
                    <code>  <b>font-size</b>: 13px;</code>
                    <code>}</code>
                </pre>
            </div>
            <div>
                <p>Обработанный CSS</p>

                <pre style="font-size: 70%">
                    <code>.foo {</code>
                    <code>  <b>font-size</b>: 13px;</code>
                    <code>}</code>
                    <code>[dir="ltr"] .foo {</code>
                    <code>  <b>float</b>: right;</code>
                    <code>  <b>margin-left</b>: 13px;</code>
                    <code>}</code>
                    <code>[dir="rtl"] .foo {</code>
                    <code>  <b>float</b>: left;</code>
                    <code>  <b>margin-right</b>: 13px;</code>
                    <code>}</code>
                </pre>
            </div>
        </div>
    </section>


















    <section class="slide">
        <h2 class="shout shrink">3.<br />Мне бы в<br /><b>HTTP/1.1</b></h2>
    </section>




    <section class="slide">
        <h2>3. Модульность и объединение</h2>

        <p>Этот плагин должен быть первым в вашем списке плагинов!</p>

        <p>Подключаем плагин:</p>
        
        <pre>
            <code>const <b>atImport</b> = require( 'postcss-import' )</code>
        </pre>

    </section>


    <section class="slide">
        <h2>3. Модульность и объединение</h2>

        <pre>
            <code>@import url('vars.css');</code>
            <code>@import url('common.css');</code>
            <code>@import url('node_modules/swiper/dist/css/swiper.min.css');</code>
            <code>@import url('https://fonts.googleapis.com/css?family=Roboto');</code>
        </pre>
    </section>


















    <section class="slide">
        <h2 class="shout shrink">4.<br />Не переменные,<br />а <b>Custom Properties</b></h2>
    </section>


    <section class="slide">
        <h2>4. Custom properties</h2>
        <pre><code>
:root {
    --mainColor: red;
}

a {
    color: var(--mainColor);
}
        </code></pre>
    </section>


    <section class="slide">
        <h2>4. Custom properties</h2>
        <pre><code>
:root {
    --danger-theme: {
        color: white;
        background-color: red;
    }
}

.danger {
    @apply --danger-theme;
}
        </code></pre>
    </section>

















    <section class="slide">
        <h2>5. Вложенные селекторы</h2>
        <pre><code>
a {
    & span { color: white; }

    @nest span & { color: blue; }

    @media (min-width: 30em) { color: yellow; }
}
        </code></pre>
    </section>

















    <section class="slide">
        <h2>6. Media queries</h2>
        <pre><code>
@custom-media --phone (max-width: 480px);

@media (--phone) {
    /* стили для телефона */
}
        </code></pre>
    </section>


    <section class="slide">
        <h2>6. Media queries</h2>
        <pre><code>
@media (width >= 768px) and (width <= 1200px) {
    /* планшет */
}

@custom-media --only-tablet (width >= 768px) and (width <= 1200px);

@media (--only-tablet) {
    /* планшет */
}
        </code></pre>
    </section>

















    <section class="slide">
        <h2>Ссылки</h2>
        <ul>
            <li><a href="https://bit.ly/2q6cb1F">https://bit.ly/2q6cb1F</a> &mdash; CSS Grid in IE: CSS Grid and the New Autoprefixer</li>
        </ul>
    </section>


    <section class="slide">
        <h2>Песочницы</h2>

        <ul>
            <li><a href="https://autoprefixer.github.io/">https://autoprefixer.github.io/</a> &mdash; Autoprefixer</li>
        </ul>
    </section>


    <div class="progress"></div>

    <script src="shower/shower.min.js"></script>

</body>
</html>
