<!DOCTYPE html>
<html lang="en">
<head>
    <title>Shower Presentation Engine</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="shower/themes/material/styles/styles.css">
    <style>
        .shower {
            --slide-ratio: calc(4 / 3);
        }

        .slide::after {
            right: 38px;
            left: auto;
        }

        .slide .gulp {
            color: white;
            background-color: #cf4647;
            font-weight: bold;
        }

        .slide .css {
            color: white;
            background-color: #9952c8;
            font-weight: bold;
        }

        .slide code b {
            color: darkmagenta;
        }

        .shower.full .next.border {
            visibility: visible;
        }

        .shower.full .next.border.active {
            outline: 0.3rem solid #cf4647;
            outline-offset: 0.2rem;
        }
    </style>
</head>
<body class="shower list">















    <header class="caption">
        <h1>CSS. Практика</h1>
        <p>Бондаренко Юрий</p>
    </header>


    <section class="slide">
        <h2 align="center">CSS. Практика</h2>
        <h2 align="center" style="line-height: 2;"><br /><b>Как пересесть с препроцессоров<br />обратно на CSS.</b></h2>
        
        <p class="place bottom"><a href="https://bnd.by/">Бондаренко Юрий</a> (BWeb.Studio)</p>
    </section>


    <section class="slide">
        <h2>Цель</h2>

        <p>Вернуться на CSS, захватив с собой "преимущества" препроцессоров</p>

        <p>Почему мы используем препроцессоры:</p>
        <ul>
            <li>Это удобно</li>
            <li>Элементы ЯП</li>
        </ul>
        
    </section>















    <section class="slide">
        <h2 class="shout shrink">Квант<br />раздражения</h2>
    </section>


    <section class="slide">
        <h2>Вычисляемые выражения</h2>
        <div class="columns two">
            <div>
                <h3>LESS</h3>
                <pre style="font-size: 90%;">
                    <code>a {</code>
                    <code>  font: <b>12pt/10pt sans-serif</b> ;</code>
                    <code>}</code>
                    <code>.item-c {</code>
                    <code>  grid-column: <b>3 / span 2</b> ;</code>
                    <code>  grid-row: <b>span 3 / 6</b> ;</code>
                    <code>}</code>
                </pre>
            </div>
            <div class="next">
                <h3>CSS</h3>
                <pre style="font-size: 90%;">
                    <code>a {</code>
                    <code>  font: <b>12pt/10pt sans-serif</b>;</code>
                    <code>}</code>
                    <code>.item-c {</code>
                    <code>  grid-column: <b>3 span 2</b>;</code>
                    <code>  grid-row: <b>span 0.5</b>;</code>
                    <code>}</code>
                </pre>
            </div>
        </div>
    </section>


    <section class="slide">
        <h2>Экранирование функций</h2>
        <div class="columns two">
            <div>
                <h3>LESS</h3>
                <pre style="font-size: 90%;">
                    <code>div {</code>
                    <code>  width: <b>calc(50% - 100px)</b>;</code>
                    <code>  height: <b>~"calc(50% - 100px)"</b>;</code>
                    <code>}</code>
                </pre>
            </div>
            <div class="next">
                <h3>CSS</h3>
                <pre style="font-size: 90%;">
                    <code>div {</code>
                    <code>  width: <b>calc(-50%)</b>;</code>
                    <code>  height: <b>calc(50% - 100px)</b>;</code>
                    <code>}</code>
                </pre>
            </div>
        </div>
    </section>


    <section class="slide">
        <h2>Проблемы с инструментарием</h2>
        <p>Пакет <code>gulp-less</code> не работает с Gulp 4, только 3.9.1</p>
        <p>Невозможность обновиться на более новые версии</p>
        <p>Раздражающие сообщения об уязвимостях и аудите</p>
    </section>

















    <section class="slide">
        <h2 class="shout shrink">Основные<br />понятия</h2>
    </section>


    <section class="slide">
        <h2>Препроцессор</h2>

        <p>Свой язык, на выходе CSS</p>

        <div class="columns three">
            <div>
                <img src="img/sass.svg" width="200" />
            </div>
            <div>
                <img src="img/less.svg" width="200" />
            </div>
            <div>
                <img src="img/stylus.svg" width="200" />
            </div>
        </div>

        <div class="columns three">
            <div>
                <h3>SASS</h3>
            </div>
            <div>
                <h3>LESS</h3>
            </div>
            <div>
                <h3>Stylus</h3>
            </div>
        </div>

        <ul>
            <li>Расширяют язык стилей: примеси, вложенные правила</li>
            <li>Дополняют элементами языков программирования: условия, циклы, переменные</li>
        </ul>
    </section>


    <section class="slide">
        <h2>Постпроцессор</h2>

        <p>На входе CSS, на выходе CSS</p>

        <p><img src="img/postcss.svg"></p>
        <p>PostCss:</p>
        <ul>
            <li>Вендорные префиксы</li>
            <li>Поддержка современных и будущих стандартов</li>
            <li>Генерация дополнительного кода</li>
        </ul>
    </section>


    <section class="slide">
        <h2>Инструментарий</h2>

        <p>В примерах использованы:</p>

        <ul>
            <li><code>gulp 4</code> &mdash; Таск менеджер</li>
            <li><code>gulp-postcss</code> &mdash; Постпроцессор</li>
            <li><code>postcss-preset-env</code> &mdash; набор плагинов</li>
            <li><code>postcss-import</code> &mdash; пример "нестандартного" плагина</li>
            <li><code>postcss-rtl</code> &mdash; пример плагина-генератора кода</li>
        </ul>
    </section>


















    <section class="slide">
        <h2 class="shout shrink">Подготовка</h2>
    </section>


    <section class="slide">
        <h2>Подключаем</h2>

        <p><code class="gulp">gulpfile.js</code></p>

        <pre>
            <code>const { <b>task</b>, <b>src</b>, <b>dest</b> } = require( 'gulp' )</code>
            <code>const <b>postcss</b> = require( 'gulp-postcss' )</code>
            <code>const <b>postcssPresetEnv</b> = require( 'postcss-preset-env' )</code>
            <code>const <b>atImport</b> = require( 'postcss-import' )</code>
        </pre>
    </section>


    <section class="slide">
        <h2>Настраиваем</h2>

        <p><code class="gulp">gulpfile.js</code></p>

        <pre>
            <code>const postcssOptions = [</code>
            <code>  <b>atImport()</b>,</code>
            <code>  <b>postcssPresetEnv</b>({</code>
            <code>    stage: 0,</code>
            <code>    autoprefixer: {</code>
            <code>      grid: true,</code>
            <code>      browsers: [ 'last 2 versions', 'ie &gt;= 11' ]</code>
            <code>    }</code>
            <code>  })</code>
            <code>]</code>
        </pre>
    </section>


    <section class="slide">
            <h2>Запускаем</h2>
    
            <p><code class="gulp">gulpfile.js</code></p>
    
            <pre>
                <code>const css = () =&gt; {</code>
                <code>  return <b>src</b>( './src/assets/css/*.css' )</code>
                <code>    .pipe( <b>postcss</b>( postcssOptions ) )</code>
                <code>    .pipe( <b>dest</b>( './dest/assets/css' ) )</code>
                <code>}</code>
                <code>task( 'CSS', css )</code>
            </pre>
        </section>


















    <section class="slide">
        <h2 class="shout shrink">1.<br />Хочу верстать<br /> и не страдать</h2>
    </section>


    <section class="slide">
        <h2>1. Grid Layout <span style="color: red">❤︎</span> IE10+</h2>
        
        <div class="columns two">
            <div>
                <p>Исходный CSS</p>

                <pre style="font-size: 70%">
                    <code>.layout {</code>
                    <code>  <b>display</b>: grid;</code>
                    <code>  <b>grid-template-areas</b>:</code>
                    <code>    "item1 item1 item2"</code>
                    <code>    "item3 item4 item4";</code>
                    <code>  <b>grid-template-columns</b>: 1fr 1fr 1fr;</code>
                    <code>  <b>grid-template-rows</b>: auto auto;</code>
                    <code>  <b>grid-gap</b>: 20px;</code>
                    <code>}</code>
                </pre>
            </div>
            <div class="next">
                <p>Обработанный CSS</p>

                <pre style="font-size: 70%">
                    <code>.layout {</code>
                    <code>  <u>display</u>: -ms-grid;</code>
                    <code>  <b>display</b>: grid;</code>
                    <code>  <b>grid-template-areas</b>:</code>
                    <code>    "item1 item1 item2"</code>
                    <code>    "item3 item4 item4";</code>
                    <code>  <u>-ms-grid-columns</u>: 1fr 20px 1fr 20px 1fr;</code>
                    <code>  <b>grid-template-columns</b>: 1fr 1fr 1fr;</code>
                    <code>  <u>-ms-grid-rows</u>: auto 20px auto;</code>
                    <code>  <b>grid-template-rows</b>: auto auto;</code>
                    <code>  <b>grid-gap</b>: 20px;</code>
                    <code>}</code>
                </pre>
            </div>
        </div>
    </section>


    <section class="slide">
        <h2>1. Grid Layout <span style="color: red">❤︎</span> IE10+</h2>
        
        <p>Что пока нельзя использовать:</p>
        <ul>
            <li><code>grid-auto-columns</code></li>
            <li><code>grid-auto-rows</code></li>
            <li><code>grid-auto-flow</code></li>
        </ul>

        <p>Ограничения:</p>
        <ul>
            <li>Каждый grid-элемент сетки должен иметь уникальное имя</li>
            <li>Для использования <code>grid-gap</code> свойства <code>grid-template-areas</code> и <code>grid-template-columns</code> должны быть определены.</li>
        </ul>

    </section>



















    <section class="slide">
        <h2 class="shout shrink">2.<br />Мама, я в Дубае</h2>
    </section>


    <section class="slide">
        <h2>2. RTL: Генерация кода</h2>

        <p>Для гридов и флексов RTL <b>не нужен</b>!</p>

        <p>Подключаем плагин:</p>

        <pre>
            <code>const rtl = <b>require</b>( 'postcss-rtl' )</code>
            <code><b>src</b>( 'style.css' )</code>
            <code>  .<b>pipe</b>( <b>postcss</b>( [ <b>rtl</b>( options ) ]) )</code>
            <code>  .<b>pipe</b>( <b>dest</b>( './dest' ) )</code>
        </pre>

    </section>


    <section class="slide">
        <h2>2. RTL: Генерация кода</h2>

        <div class="columns two">
            <div>
                <p>Исходный CSS</p>

                <pre style="font-size: 70%">
                    <code>.foo {</code>
                    <code>  <b>float</b>: right;</code>
                    <code>  <b>margin-left</b>: 13px;</code>
                    <code>  <b>font-size</b>: 13px;</code>
                    <code>}</code>
                </pre>
            </div>
            <div class="next">
                <p>Обработанный CSS</p>

                <pre style="font-size: 70%">
                    <code>.foo {</code>
                    <code>  <b>font-size</b>: 13px;</code>
                    <code>}</code>
                    <code>[dir="ltr"] .foo {</code>
                    <code>  <b>float</b>: right;</code>
                    <code>  <b>margin-left</b>: 13px;</code>
                    <code>}</code>
                    <code>[dir="rtl"] .foo {</code>
                    <code>  <b>float</b>: left;</code>
                    <code>  <b>margin-right</b>: 13px;</code>
                    <code>}</code>
                </pre>
            </div>
        </div>
    </section>


    <section class="slide">
        <h2>2. RTL: Псевдокласс <code>dir</code></h2>

        <div class="columns two">
            <div>
                <p>Исходный CSS</p>

                <pre style="font-size: 70%">
                    <code>blockquote:dir(rtl) {</code>
                    <code>  <b>margin-right</b>: 10px;</code>
                    <code>}</code>
                    <code>blockquote:dir(ltr) {</code>
                    <code>  <b>margin-left</b>: 10px;</code>
                    <code>}</code>
                </pre>
            </div>
            <div class="next">
                <p>Обработанный CSS</p>

                <pre style="font-size: 70%">
                    <code>[dir="rtl"] blockquote {</code>
                    <code>  <b>margin-right</b>: 10px;</code>
                    <code>}</code>
                    <code>[dir="ltr"] blockquote {</code>
                    <code>  <b>margin-left</b>: 10px;</code>
                    <code>}</code>
                </pre>
            </div>
        </div>
    </section>
















    <section class="slide">
        <h2 class="shout shrink">3.<br />Мне бы в<br /><b>HTTP/1.1</b></h2>
    </section>




    <section class="slide">
        <h2>3. Модульность и объединение</h2>

        <p>Этот плагин должен быть первым в вашем списке плагинов!</p>

        <p>Подключаем плагин:</p>
        
        <pre>
            <code>const <b>atImport</b> = require( 'postcss-import' )</code>
        </pre>

    </section>


    <section class="slide">
        <h2>3. Модульность и объединение</h2>

        <pre>
            <code>@import url('vars.css');</code>
            <code>@import url('common.css');</code>
            <code>@import url('node_modules/swiper/dist/css/swiper.min.css');</code>
            <code>@import url('https://fonts.googleapis.com/css?family=Roboto');</code>
        </pre>
    </section>


















    <section class="slide">
        <h2 class="shout shrink">4.<br /><span style="font-size: 85%;">Не переменные,<br />а <b>Custom Properties</b></span></h2>
    </section>


    <section class="slide">
        <h2>4. Custom properties</h2>
        
        <div class="columns two">
            <div>
                <p>Исходный CSS</p>

                <pre style="font-size: 70%">
                    <code>:root {</code>
                    <code>  <b>--fontSize</b>: 1rem;</code>
                    <code>  <b>--mainColor</b>: #12345678;</code>
                    <code>}</code>
                    <code>body {</code>
                    <code>  <b>color</b>: var(--mainColor);</code>
                    <code>  <b>font-size</b>: var(--fontSize);</code>
                    <code>}</code>
                </pre>
            </div>
            <div class="next">
                <p>Обработанный CSS</p>

                <pre style="font-size: 70%">
                    <code>:root {</code>
                    <code>  <b>--fontSize</b>: 1rem;</code>
                    <code>  <b>--mainColor</b>: rgba(18,52,86,0.47059);</code>
                    <code>}</code>
                    <code>body {</code>
                    <code>  <b>color</b>: rgba(18,52,86,0.47059);</code>
                    <code>  <b>color</b>: var(--mainColor);</code>
                    <code>  <b>font-size</b>: 1rem;</code>
                    <code>  <b>font-size</b>: var(--fontSize);</code>
                    <code>}</code>
                </pre>
            </div>
        </div>

    </section>


    <section class="slide">
        <h2>4. Custom properties</h2>
        
        <p>Ограничения:</p>

        <ul>
            <li class="next">Custom properties только в <code>:root</code>, иначе не будет обратной совместимости</li>
            <li class="next">Custom properties в <code>@media</code> тоже без обратной совместимости</li>
        </ul>

    </section>


    








    <section class="slide">
        <h2 class="shout shrink">5.<br />We need<br />to go deeper</h2>
    </section>


    <section class="slide">
        <h2>5. Вложенные селекторы</h2>

        <div class="columns two">
            <div>
                <p>Исходный CSS</p>

                <pre style="font-size: 80%">
                    <code>a {</code>
                    <code>  <b>color</b>: white;</code>
                    <code>  & span { <b>color</b>: green; }</code>
                    <code>  @nest span & { <b>color</b>: blue; }</code>
                    <div class="next border">
                    <code>  @media (min-width: 30em) {</code>
                    <code>    <b>color</b>: yellow;</code>
                    <code>  }</code>
                    </div>
                    <code>  &:hover {</code>
                    <code>    <b>color</b>: red;</code>
                    <code>  }</code>
                    <code>}</code>
                </pre>
            </div>
            <div class="next">
                <p>Обработанный CSS</p>

                <pre style="font-size: 80%">
                    <code>a { <b>color</b>: white; }</code>
                    <code>a span { <b>color</b>: green; }</code>
                    <code>span a { <b>color</b>: blue; }</code>
                    <code>@media (min-width: 30em) {</code>
                    <code>  a { <b>color</b>: yellow; }</code>
                    <code>}</code>
                    <code>a:hover { <b>color</b>: red; }</code>
                </pre>
            </div>
        </div>
        
    </section>


    <section class="slide">
        <h2>5. Вложенные селекторы</h2>

        <p>Ограничения</p>

        <div class="columns two">
            <div>
                <p>Исходный CSS</p>

                <pre style="font-size: 80%">
                    <code>.block {</code>
                    <code>  <b>color</b>: white;</code>
                    <code><span class="next border">  &__element { <b>color</b>: green; }</span></code>
                    <code>}</code>
                </pre>
            </div>
            <div class="next">
                <p>Обработанный CSS</p>

                <pre style="font-size: 80%">
                    <code>.block {</code>
                    <code>  <b>color</b>: white;</code>
                    <code>  &__element { <b>color</b>: green; }</code>
                    <code>}</code>
                </pre>
            </div>
        </div>

    </section>






    





    <section class="slide">
        <h2 class="shout shrink">6.<br />Media queries</h2>
    </section>


    <section class="slide">
        <h2>6. Custom media queries</h2>
        
        <div class="columns two">
            <div>
                <p>Исходный CSS</p>

                <pre style="font-size: 80%">
                    <code>@custom-media --s (max-width: 480px);</code>
                    <code>@media (--s) {</code>
                    <code class="comment">  /* стили для телефона */</code>
                    <code>  <b>width</b>: 100%</code>
                    <code>}</code>
                </pre>
            </div>
            <div class="next">
                <p>Обработанный CSS</p>

                <pre style="font-size: 80%">
                    <code>@media (max-width: 480px) {</code>
                    <code class="comment">  /* стили для телефона */</code>
                    <code>  <b>width</b>: 100%;</code>
                    <code>}</code>
                </pre>
            </div>
        </div>

    </section>


    <section class="slide">
        <h2>6. Media queries</h2>

        <div>
            <p>Исходный CSS</p>
        
            <pre style="font-size: 80%">
                <code>@custom-media <b>--only-tablet</b> (<u>width</u> >= 768px) and (<u>width</u> < 1200px);</code>
                <code>@media (<b>--only-tablet</b>) {</code>
                <code class="comment">  /* планшет */</code>
                <code>}</code>
            </pre>
        </div>

        <div class="next">
            <p>Обработанный CSS</p>

            <pre style="font-size: 80%">
                <code>@media (<u>min-width</u>: 768px) and (<u>max-width</u>: 1199px) {</code>
                <code class="comment">  /* планшет */</code>
                <code>}</code>
            </pre>
        </div>

    </section>




















    <section class="slide">
        <h2>Песочницы</h2>

        <ul>
            <li><a href="https://autoprefixer.github.io/">https://autoprefixer.github.io/</a> &mdash; Autoprefixer</li>
            <li><a href="https://preset-env.cssdb.org/playground">https://preset-env.cssdb.org/playground</a> &mdash; PostCSS Preset Env</li>
        </ul>
    </section>






    <section class="slide">
        <h2>Ссылки</h2>

        <ul>
            <li><a href="https://youtu.be/CaDnbOjXjRg">https://youtu.be/CaDnbOjXjRg</a> &mdash; Вадим Макеев, Мой ванильный CSS</li>
            <li><a href="https://youtu.be/g20pCKeSgUU">https://youtu.be/g20pCKeSgUU</a> &mdash; Вероника Новикова, CSS ещё не торт</li>
        </ul>
    </section>






    <section class="slide">
        <h2 class="shout shrink">Конец</h2>
    </section>


    <section class="slide">
        <h2 align="center">CSS. Практика</h2>

        <h2 align="center">Бондаренко Юрий / <a href="https://bnd.by/">bnd.by</a></h2>
        <h2>&nbsp;</h2>

        <h2 align="center">Вопросы?</h2>

    </section>






    <div class="progress"></div>

    <script src="shower/shower.min.js"></script>

</body>
</html>
